<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-GZ304VDS20"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-GZ304VDS20'); </script>
<meta charset="UTF-8" />
<title>Topper X</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" /> 

<style>
* { margin:0; padding:0; box-sizing:border-box; }
html, body { height:100%; font-family:Arial, sans-serif; } 

body {
  background: linear-gradient(135deg,#5f6cff,#7f5bff);
  display: flex;
  flex-direction: column;
} 

header {
  padding:18px;
  color:#fff;
  text-align:center;
  font-size:20px;
  font-weight:bold;
  flex-shrink:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
} 

#logo {
  position: relative;
  width: 56px;
  height: 56px;
} 

.outer-ring, .inner-ring {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  border: 2px solid;
  opacity: 0.6;
  animation: spin 12s linear infinite;
} 

.outer-ring {
  border-color: #FFD700;
  animation-duration: 8s;
} 

.inner-ring {
  border-color: orange;
  opacity: 0.4;
  inset: 4px;
  animation-duration: 6s;
  animation-direction: reverse;
} 

.core {
  position: absolute;
  inset: 12px;
  border-radius: 50%;
  background: linear-gradient(135deg, #FFD700, orange, red);
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
} 

.core-glow {
  position:absolute;
  inset:0;
  background: linear-gradient(135deg, #8B5CF6, #3B82F6);
  opacity:0.3;
  filter: blur(4px);
  animation: pulse 2s infinite;
} 

svg { z-index:1; } 

.orbit {
  position:absolute;
  top:0;
  left:50%;
  width:8px;
  height:8px;
  border-radius:50%;
  background: yellow;
  transform-origin: 0 28px;
  animation: spin 12s linear infinite;
} 

.orbit:nth-child(1){ animation-duration:3s; }
.orbit:nth-child(2){ animation-duration:4s; background: orange; animation-direction: reverse; }
.orbit:nth-child(3){ animation-duration:5s; width:6px; height:6px; background:red; } 

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
} 

@keyframes pulse {
  0%,100% { opacity:0.3; }
  50% { opacity:0.6; }
} 

#chat-container {
  flex:1;
  overflow-y:auto;
  padding:10px;
  display:flex;
  flex-direction:column;
  gap:10px;
} 

.bubble {
  padding:14px 18px;
  border-radius:16px;
  max-width:70%;
  font-size:16px;
  word-wrap: break-word;
} 

.ai {
  background:#fff;
  align-self:flex-start;
} 

.user {
  background:rgba(255,255,255,0.3);
  color:#fff;
  align-self:flex-end;
} 

footer {
  padding:10px;
  background:rgba(0,0,0,0.1);
  flex-shrink:0;
} 

.input-box {
  display:flex;
  gap:8px;
} 

input {
  flex:1;
  padding:12px;
  border-radius:25px;
  border:none;
  outline:none;
} 

button {
  padding:12px 16px;
  border-radius:50%;
  border:none;
  background:#fff;
  cursor:pointer;
} 

.suggestions {
  display:flex;
  gap:8px;
  padding:10px;
  overflow-x:auto;
  flex-shrink:0;
} 

.chip {
  background:rgba(255,255,255,0.2);
  color:#fff;
  padding:6px 12px;
  border-radius:20px;
  font-size:13px;
  white-space:nowrap;
  cursor:pointer;
}
</style>
</head> 

<body> 

<header>
  <div id="logo">
    <div class="outer-ring"></div>
    <div class="inner-ring"></div>
    <div class="core">
      <div class="core-glow"></div>
      <svg width="24" height="24" viewBox="0 0 24 24">
        <path d="M4 4 L10 12 L4 20 L7 20 L12 13.5 L17 20 L20 20 L14 12 L20 4 L17 4 L12 10.5 L7 4 Z" fill="white"/>
      </svg>
    </div>
    <div class="orbit"></div>
    <div class="orbit"></div>
    <div class="orbit"></div>
  </div> 
  Topper X<br>
  <small style="font-weight:normal">AI Study Assistant</small>
</header> 

<div id="chat-container">
  <div class="bubble ai">Hi! ðŸ‘‹ How can I help you today?</div>
</div> 

<div class="suggestions">
  <div class="chip" onclick="send('What is AI')">What is AI?</div>
  <div class="chip" onclick="send('Explain gravity')">Explain gravity</div>
  <div class="chip" onclick="send('NEET roadmap')">NEET roadmap</div>
</div> 

<footer>
  <div class="input-box">
    <input id="q" placeholder="Ask me anything..." />
    <button onclick="ask()">âž¤</button>
  </div>
</footer> 

<script>
const chatContainer = document.getElementById("chat-container"); 

async function ask(){
  const q = document.getElementById("q").value;
  if(!q) return;
  addMessage(q, "user");
  document.getElementById("q").value = "";
  await getAnswer(q);
} 

function addMessage(text, type){
  const bubble = document.createElement("div");
  bubble.className = "bubble " + type;
  bubble.innerText = text;
  chatContainer.appendChild(bubble);
  chatContainer.scrollTop = chatContainer.scrollHeight;
} 

// ðŸ”¥ ONLY IMPORTANT CHANGE IS HERE
async function getAnswer(text){
  addMessage("Thinking...", "ai");
  const bubbles = document.querySelectorAll(".bubble.ai");
  const thinkingBubble = bubbles[bubbles.length-1];
  try {
    const r = await fetch("https://topper-x-backend.onrender.com/ask",{
      method:"POST",
  headers: {
  "Content-Type": "application/json"
},
      body:JSON.stringify({q:text})
    });
    const d = await r.json();
    thinkingBubble.innerText = d.ans;
  } catch(e) {
    thinkingBubble.innerText = "Oops! Something went wrong ðŸ˜…";
  }
  chatContainer.scrollTop = chatContainer.scrollHeight;
} 

function send(text){
  addMessage(text,"user");
  getAnswer(text);
}
</script> 

</body>
</html>
